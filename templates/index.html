<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Demo NLP Tiếng Việt</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        textarea { width: 100%; height: 120px; }
        table, th, td { border: 1px solid black; border-collapse: collapse; padding: 5px; }
        .entities { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>Demo Công cụ phân tích văn bản (Flask)</h1>
    <form method="POST">
        <textarea name="text">Nhập văn bản cần demo.</textarea><br><br>
        <button type="submit">Phân tích</button>
    </form>

    {% if result %}
        <h2>Token & POS</h2>
        <table>
            <tr><th>Token</th><th>POS</th></tr>
            {% for tok in result.tokens %}
            <tr><td>{{ tok[0] }}</td><td>{{ tok[1] }}</td></tr>
            {% endfor %}
        </table>

        <h2>Named Entities</h2>
        {% if result.entities %}
        <table>
            <tr><th>Thực thể</th><th>Loại</th></tr>
            {% for ent in result.entities %}
            <tr><td>{{ ent[0] }}</td><td>{{ ent[1] }}</td></tr>
            {% endfor %}
        </table>
        {% else %}
        <p>⚠️ Không phát hiện thực thể nào.</p>
        {% endif %}

        <h2>Highlight trực tiếp</h2>
        <div class="entities">{{ ents_html|safe }}</div>
    {% endif %}
</body>
</html>
